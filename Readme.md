# 機能

- instance 結線の自動化
- ポート・中間 wire 自動追加
- signal trace 記述の自動出力
- センシティビティリストの分離抑制

# 方針

- 出力がそのまま入力できるようにしたほうが良い?
- 既存の cpp からなるべく省力で def.cpp 化したい
- ファイルは変更しない，include 等で対応 (可能であれば)

# 実現方法
## instance 結線の自動化
- in / out はテキスト的に持ってこれる
- それを組み込むのはマクロで行ける

## signal trace 記述の自動出力

## センシティビティリストの分離抑制
- clk, reset, センシティビティリストは，関数の直前にコメントで置く
- それを組み込むのはマクロで行ける

# ディレクティブ

- SCPP_...() ★
    - scpp をかけないつもりのファイルでは syntax error になる
    - scpp.h を include するルールにして空になるようマクロ定義，はあり?
        - どのみちディレクティブ追記作業はあるから，include を足すのはありかもしれん

- ＃if SCPP_... ＃endif
    - ＃endif が cpp で消える
    - どのみち自前 cpp は必須っぽい

- コメント //#... { ... //#}
    - scpp をかけないつもりのファイルでは syntax error になる

# 動作

1. ソースコードを cpp にかける (※a)
1. ※a をリードし，SCPP 構文を処理
    1. モジュールを認識
    1. instance 構文を認識，指定のファイルからモジュールと io を認識
    1. センシティビティ構文を認識，指定のファイルからモジュールとセンシティビティ指定を認識
1. ソースコード (生) をリードし，scpp 構文から記述を生成

# 課題
- <...> を include しない仕組みのためには，include を自前 parse する必要あり
    - 結局自前 cpp を実装しないといけないのか?
    - gnu cpp 通した後の，include ファイル名 (パス) が判別できるなら，gnu cpp を通して <...> はスキップする，はあり
        - CTOR() とかも展開されるので微妙...
    - include <...> はコメントアウトして cpp ★
        - 概ね，うまく動きそう
